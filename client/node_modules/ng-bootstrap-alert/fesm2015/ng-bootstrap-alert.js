import { Injectable, Component, Input, NgModule } from '@angular/core';
import { BehaviorSubject } from 'rxjs';
import { trigger, state, transition, style, animate } from '@angular/animations';
import { CommonModule } from '@angular/common';
import { BrowserAnimationsModule } from '@angular/platform-browser/animations';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class NgBootstrapAlertService {
    constructor() {
        this._bootstrapAlert = new BehaviorSubject(null);
    }
    /**
     * @param {?} alert
     * @return {?}
     */
    alert(alert) {
        this._bootstrapAlert.next(alert);
    }
}
NgBootstrapAlertService.decorators = [
    { type: Injectable },
];
/** @nocollapse */
NgBootstrapAlertService.ctorParameters = () => [];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class NgBootstrapAlertComponent {
    /**
     * @param {?} bootstrapAlertService
     */
    constructor(bootstrapAlertService) {
        this.bootstrapAlertService = bootstrapAlertService;
        this.DEFAULT_TIMEOUT = 3000;
        this.FADE_TIMEOUT = 600;
        this.bootstrapAlerts = [];
        this.bootstrapAlertService._bootstrapAlert.subscribe((bootstrapAlert) => {
            this.show(bootstrapAlert);
        });
    }
    /**
     * @param {?} bootstrapAlert
     * @return {?}
     */
    show(bootstrapAlert) {
        if (!bootstrapAlert) {
            return;
        }
        this.bootstrapAlerts.unshift(bootstrapAlert);
        setTimeout(() => {
            this.destroy(bootstrapAlert.uuid);
        }, bootstrapAlert.timeoutInMiliSeconds ? bootstrapAlert.timeoutInMiliSeconds : this.DEFAULT_TIMEOUT);
    }
    /**
     * @param {?} bootstrapAlert
     * @return {?}
     */
    fade(bootstrapAlert) {
        bootstrapAlert.state = 'destroyed';
    }
    /**
     * @param {?} uuid
     * @return {?}
     */
    destroy(uuid) {
        const /** @type {?} */ bootstrapAlertIndex = this.findIndex(this.bootstrapAlerts, 'uuid', uuid);
        if (bootstrapAlertIndex !== -1) {
            const /** @type {?} */ bootstrapAlert = this.bootstrapAlerts[bootstrapAlertIndex];
            bootstrapAlert.state = 'destroyed';
            setTimeout(() => {
                this.bootstrapAlerts.splice(bootstrapAlertIndex, 1);
            }, this.FADE_TIMEOUT);
        }
    }
    /**
     * @param {?} array
     * @param {?} attr
     * @param {?} value
     * @return {?}
     */
    findIndex(array, attr, value) {
        for (let /** @type {?} */ i = 0; i < array.length; i += 1) {
            if (array[i][attr] === value) {
                return i;
            }
        }
        return -1;
    }
}
NgBootstrapAlertComponent.decorators = [
    { type: Component, args: [{
                selector: 'ng-bootstrap-alert',
                template: `<div [ngClass]="alertPosition" class="bootstrap-alert col-lg-4">
	<div *ngFor="let bootstrapAlert of bootstrapAlerts" id="{{bootstrapAlert.uuid}}" class="alert alert-dismissable mb-2" [ngClass]="bootstrapAlert.type" [@alertVisible]="bootstrapAlert.state">
		<button type="button" class="close" data-dismiss="alert">x</button>
		{{bootstrapAlert.message}}
	</div>
</div>`,
                styles: [`.bootstrap-alert{z-index:2000;position:fixed}.top-left{left:1rem;top:1rem}.top-center{margin:auto;left:0;right:0;top:1rem}.top-right{right:1rem;top:1rem}.bottom-left{left:1rem;bottom:1rem}.bottom-center{margin:auto;left:0;right:0;bottom:1rem}.bottom-right{right:1rem;bottom:1rem}`],
                animations: [
                    trigger('alertVisible', [
                        state('visible', style({ opacity: 1 })),
                        state('destroyed', style({ opacity: 0 })),
                        transition('visible => destroyed', animate('600ms')),
                        transition('destroyed => visible', animate('600ms')),
                    ])
                ]
            },] },
];
/** @nocollapse */
NgBootstrapAlertComponent.ctorParameters = () => [
    { type: NgBootstrapAlertService }
];
NgBootstrapAlertComponent.propDecorators = {
    alertPosition: [{ type: Input }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class NgBootstrapAlertModule {
}
NgBootstrapAlertModule.decorators = [
    { type: NgModule, args: [{
                imports: [
                    CommonModule,
                    BrowserAnimationsModule
                ],
                declarations: [
                    NgBootstrapAlertComponent,
                ],
                exports: [
                    NgBootstrapAlertComponent
                ],
                providers: [
                    NgBootstrapAlertService,
                ]
            },] },
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class NgBootstrapAlert {
    /**
     * @param {?} message
     * @param {?} type
     */
    constructor(message, type) {
        this._uuid = this.generateUUId();
        this._type = type;
        this._message = message;
        this._state = 'visible';
    }
    /**
     * @return {?}
     */
    generateUUId() {
        return this.randomizer() + this.randomizer() + '-' + this.randomizer() + '-' + this.randomizer() + '-' +
            this.randomizer() + '-' + this.randomizer() + this.randomizer() + this.randomizer();
    }
    /**
     * @return {?}
     */
    randomizer() {
        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
    }
    /**
     * @return {?}
     */
    get message() {
        return this._message;
    }
    /**
     * @param {?} message
     * @return {?}
     */
    set message(message) {
        this._message = message;
    }
    /**
     * @return {?}
     */
    get timeoutInMiliSeconds() {
        return this._timeoutInMiliSeconds;
    }
    /**
     * @param {?} timeoutInMiliSeconds
     * @return {?}
     */
    set timeoutInMiliSeconds(timeoutInMiliSeconds) {
        this._timeoutInMiliSeconds = timeoutInMiliSeconds;
    }
    /**
     * @return {?}
     */
    get type() {
        return this._type;
    }
    /**
     * @param {?} type
     * @return {?}
     */
    set type(type) {
        this._type = type;
    }
    /**
     * @return {?}
     */
    get uuid() {
        return this._uuid;
    }
    /**
     * @return {?}
     */
    get state() {
        return this._state;
    }
    /**
     * @param {?} state
     * @return {?}
     */
    set state(state$$1) {
        this._state = state$$1;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { NgBootstrapAlertComponent, NgBootstrapAlertModule, NgBootstrapAlertService, NgBootstrapAlert };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctYm9vdHN0cmFwLWFsZXJ0LmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9uZy1ib290c3RyYXAtYWxlcnQvbGliL25nLWJvb3RzdHJhcC1hbGVydC5zZXJ2aWNlLnRzIiwibmc6Ly9uZy1ib290c3RyYXAtYWxlcnQvbGliL25nLWJvb3RzdHJhcC1hbGVydC5jb21wb25lbnQudHMiLCJuZzovL25nLWJvb3RzdHJhcC1hbGVydC9saWIvbmctYm9vdHN0cmFwLWFsZXJ0Lm1vZHVsZS50cyIsIm5nOi8vbmctYm9vdHN0cmFwLWFsZXJ0L2xpYi9uZy1ib290c3RyYXAtYWxlcnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cCwgSGVhZGVycywgUmVzcG9uc2UsIFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBOZ0Jvb3RzdHJhcEFsZXJ0IH0gZnJvbSAnLi9uZy1ib290c3RyYXAtYWxlcnQnO1xuaW1wb3J0IHsgQWxlcnRUeXBlIH0gZnJvbSAnLi9uZy1ib290c3RyYXAtYWxlcnQnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBOZ0Jvb3RzdHJhcEFsZXJ0U2VydmljZSB7XG5cbiAgICBwdWJsaWMgX2Jvb3RzdHJhcEFsZXJ0OiBCZWhhdmlvclN1YmplY3Q8TmdCb290c3RyYXBBbGVydD47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fYm9vdHN0cmFwQWxlcnQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PE5nQm9vdHN0cmFwQWxlcnQ+KCBudWxsICk7XG4gICAgfVxuXG4gICAgcHVibGljIGFsZXJ0KGFsZXJ0OiBOZ0Jvb3RzdHJhcEFsZXJ0KSB7XG4gICAgICAgIHRoaXMuX2Jvb3RzdHJhcEFsZXJ0Lm5leHQoYWxlcnQpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTmdCb290c3RyYXBBbGVydCwgTmdCb290c3RyYXBBbGVydEludGVyZmFjZSB9IGZyb20gJy4vbmctYm9vdHN0cmFwLWFsZXJ0JztcbmltcG9ydCB7IE5nQm9vdHN0cmFwQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi9uZy1ib290c3RyYXAtYWxlcnQuc2VydmljZSc7XG5pbXBvcnQgeyB0cmlnZ2VyLCBzdGF0ZSwgdHJhbnNpdGlvbiwgc3R5bGUsIGFuaW1hdGUgfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcblxuQENvbXBvbmVudCgge1xuICAgIHNlbGVjdG9yOiAnbmctYm9vdHN0cmFwLWFsZXJ0JyxcbiAgICB0ZW1wbGF0ZTogYDxkaXYgW25nQ2xhc3NdPVwiYWxlcnRQb3NpdGlvblwiIGNsYXNzPVwiYm9vdHN0cmFwLWFsZXJ0IGNvbC1sZy00XCI+XHJcblx0PGRpdiAqbmdGb3I9XCJsZXQgYm9vdHN0cmFwQWxlcnQgb2YgYm9vdHN0cmFwQWxlcnRzXCIgaWQ9XCJ7e2Jvb3RzdHJhcEFsZXJ0LnV1aWR9fVwiIGNsYXNzPVwiYWxlcnQgYWxlcnQtZGlzbWlzc2FibGUgbWItMlwiIFtuZ0NsYXNzXT1cImJvb3RzdHJhcEFsZXJ0LnR5cGVcIiBbQGFsZXJ0VmlzaWJsZV09XCJib290c3RyYXBBbGVydC5zdGF0ZVwiPlxyXG5cdFx0PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cImFsZXJ0XCI+eDwvYnV0dG9uPlxyXG5cdFx0e3tib290c3RyYXBBbGVydC5tZXNzYWdlfX1cclxuXHQ8L2Rpdj5cclxuPC9kaXY+YCxcbiAgICBzdHlsZXM6IFtgLmJvb3RzdHJhcC1hbGVydHt6LWluZGV4OjIwMDA7cG9zaXRpb246Zml4ZWR9LnRvcC1sZWZ0e2xlZnQ6MXJlbTt0b3A6MXJlbX0udG9wLWNlbnRlcnttYXJnaW46YXV0bztsZWZ0OjA7cmlnaHQ6MDt0b3A6MXJlbX0udG9wLXJpZ2h0e3JpZ2h0OjFyZW07dG9wOjFyZW19LmJvdHRvbS1sZWZ0e2xlZnQ6MXJlbTtib3R0b206MXJlbX0uYm90dG9tLWNlbnRlcnttYXJnaW46YXV0bztsZWZ0OjA7cmlnaHQ6MDtib3R0b206MXJlbX0uYm90dG9tLXJpZ2h0e3JpZ2h0OjFyZW07Ym90dG9tOjFyZW19YF0sXG4gICAgYW5pbWF0aW9uczogW1xuICAgICAgICB0cmlnZ2VyKCAnYWxlcnRWaXNpYmxlJywgW1xuICAgICAgICAgICAgc3RhdGUoICd2aXNpYmxlJywgc3R5bGUoIHsgb3BhY2l0eTogMSB9ICkgKSxcbiAgICAgICAgICAgIHN0YXRlKCAnZGVzdHJveWVkJywgc3R5bGUoIHsgb3BhY2l0eTogMCB9ICkgKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oICd2aXNpYmxlID0+IGRlc3Ryb3llZCcsIGFuaW1hdGUoICc2MDBtcycgKSApLFxuICAgICAgICAgICAgdHJhbnNpdGlvbiggJ2Rlc3Ryb3llZCA9PiB2aXNpYmxlJywgYW5pbWF0ZSggJzYwMG1zJyApICksXG4gICAgICAgIF0gKVxuICAgIF1cbn0gKVxuXG5leHBvcnQgY2xhc3MgTmdCb290c3RyYXBBbGVydENvbXBvbmVudCB7XG5cbiAgICBASW5wdXQoKSBhbGVydFBvc2l0aW9uOiBzdHJpbmc7XG5cbiAgICBib290c3RyYXBBbGVydHM6IEFycmF5PE5nQm9vdHN0cmFwQWxlcnRJbnRlcmZhY2U+O1xuXG4gICAgY29uc3RydWN0b3IoIHByaXZhdGUgYm9vdHN0cmFwQWxlcnRTZXJ2aWNlOiBOZ0Jvb3RzdHJhcEFsZXJ0U2VydmljZSApIHtcblxuICAgICAgICB0aGlzLmJvb3RzdHJhcEFsZXJ0cyA9IFtdO1xuICAgICAgICB0aGlzLmJvb3RzdHJhcEFsZXJ0U2VydmljZS5fYm9vdHN0cmFwQWxlcnQuc3Vic2NyaWJlKFxuICAgICAgICAgICAgKCBib290c3RyYXBBbGVydDogTmdCb290c3RyYXBBbGVydEludGVyZmFjZSApID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3coIGJvb3RzdHJhcEFsZXJ0ICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICB9XG5cbiAgICByZWFkb25seSBERUZBVUxUX1RJTUVPVVQgPSAzMDAwO1xuICAgIHJlYWRvbmx5IEZBREVfVElNRU9VVCA9IDYwMDtcblxuICAgIHNob3coIGJvb3RzdHJhcEFsZXJ0OiBOZ0Jvb3RzdHJhcEFsZXJ0SW50ZXJmYWNlICk6IHZvaWQge1xuICAgICAgICBpZiAoICFib290c3RyYXBBbGVydCApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvb3RzdHJhcEFsZXJ0cy51bnNoaWZ0KCBib290c3RyYXBBbGVydCApO1xuICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSggYm9vdHN0cmFwQWxlcnQudXVpZCApO1xuICAgICAgICAgICAgfSwgYm9vdHN0cmFwQWxlcnQudGltZW91dEluTWlsaVNlY29uZHMgPyBib290c3RyYXBBbGVydC50aW1lb3V0SW5NaWxpU2Vjb25kcyA6IHRoaXMuREVGQVVMVF9USU1FT1VUXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZmFkZSggYm9vdHN0cmFwQWxlcnQpOiB2b2lkIHtcbiAgICAgICAgYm9vdHN0cmFwQWxlcnQuc3RhdGUgPSAnZGVzdHJveWVkJztcbiAgICB9XG5cbiAgICBkZXN0cm95KCB1dWlkOiBzdHJpbmcgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGJvb3RzdHJhcEFsZXJ0SW5kZXggPSB0aGlzLmZpbmRJbmRleCggdGhpcy5ib290c3RyYXBBbGVydHMsICd1dWlkJywgdXVpZCApO1xuICAgICAgICBpZiAoIGJvb3RzdHJhcEFsZXJ0SW5kZXggIT09IC0xICkge1xuICAgICAgICAgICAgY29uc3QgYm9vdHN0cmFwQWxlcnQgPSB0aGlzLmJvb3RzdHJhcEFsZXJ0c1tib290c3RyYXBBbGVydEluZGV4XTtcbiAgICAgICAgICAgIGJvb3RzdHJhcEFsZXJ0LnN0YXRlID0gJ2Rlc3Ryb3llZCc7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmJvb3RzdHJhcEFsZXJ0cy5zcGxpY2UoIGJvb3RzdHJhcEFsZXJ0SW5kZXgsIDEgKTtcbiAgICAgICAgICAgICAgfSwgdGhpcy5GQURFX1RJTUVPVVRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5kSW5kZXgoYXJyYXksIGF0dHIsIHZhbHVlKTogbnVtYmVyIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGFycmF5W2ldW2F0dHJdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOZ0Jvb3RzdHJhcEFsZXJ0U2VydmljZSB9IGZyb20gJy4vbmctYm9vdHN0cmFwLWFsZXJ0LnNlcnZpY2UnO1xuaW1wb3J0IHsgTmdCb290c3RyYXBBbGVydENvbXBvbmVudCB9IGZyb20gJy4vbmctYm9vdHN0cmFwLWFsZXJ0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgQnJvd3NlckFuaW1hdGlvbnNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgTmdCb290c3RyYXBBbGVydCB9IGZyb20gJy4vbmctYm9vdHN0cmFwLWFsZXJ0JztcblxuQE5nTW9kdWxlKCB7XG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIEJyb3dzZXJBbmltYXRpb25zTW9kdWxlXG4gICAgXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgTmdCb290c3RyYXBBbGVydENvbXBvbmVudCxcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgTmdCb290c3RyYXBBbGVydENvbXBvbmVudFxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIE5nQm9vdHN0cmFwQWxlcnRTZXJ2aWNlLFxuICAgIF1cbn0gKVxuXG5leHBvcnQgY2xhc3MgTmdCb290c3RyYXBBbGVydE1vZHVsZSB7fVxuIiwiZXhwb3J0IGludGVyZmFjZSBOZ0Jvb3RzdHJhcEFsZXJ0SW50ZXJmYWNlIHtcclxuICAgIG1lc3NhZ2U6IHN0cmluZztcclxuICAgIHRpbWVvdXRJbk1pbGlTZWNvbmRzOiBudW1iZXI7XHJcbiAgICB0eXBlOiBBbGVydFR5cGU7XHJcbiAgICB1dWlkOiBzdHJpbmc7XHJcbiAgICBzdGF0ZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBBbGVydFR5cGUgPSAnYWxlcnQtZGFuZ2VyJyB8ICdhbGVydC1zdWNjZXNzJyB8ICdhbGVydC1pbmZvJyB8ICdhbGVydC13YXJuaW5nJztcclxuXHJcbmV4cG9ydCBjbGFzcyBOZ0Jvb3RzdHJhcEFsZXJ0IGltcGxlbWVudHMgTmdCb290c3RyYXBBbGVydEludGVyZmFjZSB7XHJcbiAgICBwcml2YXRlIF9tZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIF90aW1lb3V0SW5NaWxpU2Vjb25kczogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfdHlwZTogQWxlcnRUeXBlO1xyXG4gICAgcHJpdmF0ZSBfdXVpZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfc3RhdGU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvciggbWVzc2FnZTogc3RyaW5nLCB0eXBlOiBBbGVydFR5cGUgKSB7XHJcbiAgICAgICAgdGhpcy5fdXVpZCA9IHRoaXMuZ2VuZXJhdGVVVUlkKCk7XHJcbiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAndmlzaWJsZSc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVVVSWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZG9taXplcigpICsgdGhpcy5yYW5kb21pemVyKCkgKyAnLScgKyB0aGlzLnJhbmRvbWl6ZXIoKSArICctJyArIHRoaXMucmFuZG9taXplcigpICsgJy0nICtcclxuICAgICAgICAgICAgdGhpcy5yYW5kb21pemVyKCkgKyAnLScgKyB0aGlzLnJhbmRvbWl6ZXIoKSArIHRoaXMucmFuZG9taXplcigpICsgdGhpcy5yYW5kb21pemVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByYW5kb21pemVyKCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKCggMSArIE1hdGgucmFuZG9tKCkgKSAqIDB4MTAwMDAgKS50b1N0cmluZyggMTYgKS5zdWJzdHJpbmcoIDEgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IG1lc3NhZ2UoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IG1lc3NhZ2UoIG1lc3NhZ2U6IHN0cmluZyApIHtcclxuICAgICAgICB0aGlzLl9tZXNzYWdlID0gbWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHRpbWVvdXRJbk1pbGlTZWNvbmRzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVvdXRJbk1pbGlTZWNvbmRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgdGltZW91dEluTWlsaVNlY29uZHMoIHRpbWVvdXRJbk1pbGlTZWNvbmRzOiBudW1iZXIgKSB7XHJcbiAgICAgICAgdGhpcy5fdGltZW91dEluTWlsaVNlY29uZHMgPSB0aW1lb3V0SW5NaWxpU2Vjb25kcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHR5cGUoKTogQWxlcnRUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IHR5cGUoIHR5cGU6IEFsZXJ0VHlwZSApIHtcclxuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHV1aWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXVpZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHN0YXRlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgc3RhdGUoIHN0YXRlOiBzdHJpbmcgKSB7XHJcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTtcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsic3RhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtJQVdJO1FBQ0ksSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBb0IsSUFBSSxDQUFFLENBQUM7S0FDeEU7Ozs7O0lBRU0sS0FBSyxDQUFDLEtBQXVCO1FBQ2hDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDOzs7O1lBVnhDLFVBQVU7Ozs7Ozs7OztBQ05YOzs7O0lBOEJJLFlBQXFCLHFCQUE4QztRQUE5QywwQkFBcUIsR0FBckIscUJBQXFCLENBQXlCOytCQVd4QyxJQUFJOzRCQUNQLEdBQUc7UUFWdkIsSUFBSSxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQ2hELENBQUUsY0FBeUM7WUFDdkMsSUFBSSxDQUFDLElBQUksQ0FBRSxjQUFjLENBQUUsQ0FBQztTQUMvQixDQUNKLENBQUM7S0FFTDs7Ozs7SUFLRCxJQUFJLENBQUUsY0FBeUM7UUFDM0MsSUFBSyxDQUFDLGNBQWUsRUFBRTtZQUNuQixPQUFPO1NBQ1Y7UUFDRCxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBRSxjQUFjLENBQUUsQ0FBQztRQUMvQyxVQUFVLENBQ047WUFDSSxJQUFJLENBQUMsT0FBTyxDQUFFLGNBQWMsQ0FBQyxJQUFJLENBQUUsQ0FBQztTQUN2QyxFQUFFLGNBQWMsQ0FBQyxvQkFBb0IsR0FBRyxjQUFjLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FDdEcsQ0FBQztLQUNMOzs7OztJQUVELElBQUksQ0FBRSxjQUFjO1FBQ2hCLGNBQWMsQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDO0tBQ3RDOzs7OztJQUVELE9BQU8sQ0FBRSxJQUFZO1FBQ2pCLHVCQUFNLG1CQUFtQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFFLENBQUM7UUFDakYsSUFBSyxtQkFBbUIsS0FBSyxDQUFDLENBQUUsRUFBRTtZQUM5Qix1QkFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBQ2pFLGNBQWMsQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDO1lBQ25DLFVBQVUsQ0FDUjtnQkFDSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBRSxtQkFBbUIsRUFBRSxDQUFDLENBQUUsQ0FBQzthQUN6RCxFQUFFLElBQUksQ0FBQyxZQUFZLENBQ3JCLENBQUM7U0FDTDtLQUNKOzs7Ozs7O0lBRUQsU0FBUyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSztRQUN4QixLQUFLLHFCQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN0QyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLEVBQUU7Z0JBQzFCLE9BQU8sQ0FBQyxDQUFDO2FBQ1o7U0FDSjtRQUNELE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDYjs7O1lBM0VKLFNBQVMsU0FBRTtnQkFDUixRQUFRLEVBQUUsb0JBQW9CO2dCQUM5QixRQUFRLEVBQUU7Ozs7O09BS1A7Z0JBQ0gsTUFBTSxFQUFFLENBQUMseVJBQXlSLENBQUM7Z0JBQ25TLFVBQVUsRUFBRTtvQkFDUixPQUFPLENBQUUsY0FBYyxFQUFFO3dCQUNyQixLQUFLLENBQUUsU0FBUyxFQUFFLEtBQUssQ0FBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBRSxDQUFFO3dCQUMzQyxLQUFLLENBQUUsV0FBVyxFQUFFLEtBQUssQ0FBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBRSxDQUFFO3dCQUM3QyxVQUFVLENBQUUsc0JBQXNCLEVBQUUsT0FBTyxDQUFFLE9BQU8sQ0FBRSxDQUFFO3dCQUN4RCxVQUFVLENBQUUsc0JBQXNCLEVBQUUsT0FBTyxDQUFFLE9BQU8sQ0FBRSxDQUFFO3FCQUMzRCxDQUFFO2lCQUNOO2FBQ0o7Ozs7WUFwQlEsdUJBQXVCOzs7NEJBd0IzQixLQUFLOzs7Ozs7O0FDMUJWOzs7WUFPQyxRQUFRLFNBQUU7Z0JBQ1AsT0FBTyxFQUFFO29CQUNMLFlBQVk7b0JBQ1osdUJBQXVCO2lCQUMxQjtnQkFDRCxZQUFZLEVBQUU7b0JBQ1YseUJBQXlCO2lCQUM1QjtnQkFDRCxPQUFPLEVBQUU7b0JBQ0wseUJBQXlCO2lCQUM1QjtnQkFDRCxTQUFTLEVBQUU7b0JBQ1AsdUJBQXVCO2lCQUMxQjthQUNKOzs7Ozs7Ozs7Ozs7SUNKRyxZQUFhLE9BQWUsRUFBRSxJQUFlO1FBQ3pDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDO0tBQzNCOzs7O0lBRU8sWUFBWTtRQUNoQixPQUFPLElBQUksQ0FBQyxVQUFVLEVBQUUsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxHQUFHLEdBQUc7WUFDbEcsSUFBSSxDQUFDLFVBQVUsRUFBRSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQzs7Ozs7SUFHcEYsVUFBVTtRQUNkLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUssT0FBTyxDQUFFLENBQUMsUUFBUSxDQUFFLEVBQUUsQ0FBRSxDQUFDLFNBQVMsQ0FBRSxDQUFDLENBQUUsQ0FBQzs7Ozs7UUFHM0UsT0FBTztRQUNkLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQzs7Ozs7O1FBR2QsT0FBTyxDQUFFLE9BQWU7UUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7Ozs7O1FBR2pCLG9CQUFvQjtRQUMzQixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQzs7Ozs7O1FBRzNCLG9CQUFvQixDQUFFLG9CQUE0QjtRQUN6RCxJQUFJLENBQUMscUJBQXFCLEdBQUcsb0JBQW9CLENBQUM7Ozs7O1FBRzNDLElBQUk7UUFDWCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7Ozs7OztRQUdYLElBQUksQ0FBRSxJQUFlO1FBQzVCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDOzs7OztRQUdYLElBQUk7UUFDWCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7Ozs7O1FBR1gsS0FBSztRQUNaLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQzs7Ozs7O1FBR1osS0FBSyxDQUFFQSxRQUFhO1FBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUdBLFFBQUssQ0FBQzs7Q0FFM0I7Ozs7Ozs7Ozs7Ozs7OyJ9